<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>Crime Visualization</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.16/d3.min.js" charset="utf-8"
            type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore.js"
            type="text/javascript"></script>
    <script>
        d3old = d3;
        window.d3 = null;
    </script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <script src='//d3js.org/topojson.v1.min.js'></script>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"></script>
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.js'></script>
    <script src="https://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="https://code.jquery.com/ui/1.10.2/jquery-ui.js"></script>
    <script src="https://unpkg.com/deck.gl@^7.0.0/dist.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
            integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
            crossorigin="anonymous"></script>

    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.2/mapbox-gl.css' rel='stylesheet'/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-black.css">
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css"/>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css"
          integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css"
          integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <link rel="stylesheet" href="stylesheet.css">


</head>


<body>


<!--SIDEBAR-->
<div class="w3-sidebar w3-bar-block w3-card w3-theme w3-animate-left" style="display:none" id="mySidebar">
    <button class="w3-bar-item w3-button w3-large"
            onclick="w3_close()">Close &times;
    </button>

    <!--INTERACTION-->
    <div class="w3-dropdown-hover">
        <button class="w3-button" onclick="openchart()"> Start Correlation Matrix: TOP 7 CRIME</button>
    </div>

    <button class="w3-bar-item w3-button" onclick="rankdisplay()"> Start Dynamic Ranking: TOP 10 CRIME</button>
    <div class="w3-dropdown-hover">
        <button class="w3-button">REGION
            <i class="fa fa-caret-down"></i>
        </button>

        <div class="w3-dropdown-content w3-bar-block">

            <a href="#" class="w3-bar-item w3-button">Total</a>

            <!--SELECTION-->
            <select id="city" class="w3-bar-item w3-button">
                <option value="0">Major Cities:</option>
                <option value="1" selected="selected">Amsterdam</option>
                <option value="2">Rotterdam</option>
                <option value="3">Dordrecht</option>
                <option value="4">Enschede</option>
                <option value="5">Deventer</option>
                <option value="6">'s-Gravenhage (gemeente)</option>

            </select>

            <select id="province" class="w3-bar-item w3-button">
                <option value="0">Provinces:</option>
                <option value="1">Drenthe</option>
                <option value="2">Gelderland</option>
                <option value="3">Groningen</option>
                <option value="4">Flevoland</option>
                <option value="5">Friesland</option>
                <option value="6">Limburg</option>
                <option value="7">Noord-Brabant</option>
                <option value="8">Noord-Holland</option>
                <option value="9">Overijssel</option>
                <option value="10">Utrecht</option>
                <option value="11">Zeeland</option>
                <option value="12">Zuid-Holland</option>
            </select>


        </div>
    </div>


    <!--DYNAMIC RANKING-->
    <div id="rank" style="display:block;">

            <div id="legend_corr_inner" style="position:absolute; z-index: 99; right:0; display: none; font-size: 10px;">
                <ul id="legend_corr" style="float: left"></ul>
            </div>
            <svg id="svgrank" width=600 height=560></svg>
            <script src="config.js"></script>
            <script src="imgs.js"></script>
            <script src="color_ranges.js"></script>
            <script src="visual.js"></script>

    </div>


</div>


<!--MAP-->
<div id="main">

    <div id="deckgl-container" style="width: 100%; height: 100%; margin-left: 0%"></div>
    <div id="tooltip" style="margin-left: 0%;"></div>
    <script src="map.js"></script>

</div>

<div id="chart" style="width: 100%; height: 100%; margin-left: 0%; display:none"></div>

<!--ANIMATION-->
<div id="over_map_in">


    <div id="player" style=" width: 100%; margin-left: 2%">

        <div>
            <button id="Animate" onclick="Animate()" style="margin-left: 2%;"></button>
        </div>
        <div id="slider-range" style="width: 90%; height: 30px; " class="progress-bar progress-bar-striped active"
             role="progressbar" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
    </div>
    <div>
        <label for="amount" style="color: #f6a728; font-weight: bold;">Time Range:</label>
        <input type="text" id="amount" readonly>
    </div>

    <div class="btn-group" style="margin-top: 10px; margin-left: 30px;">

        <select id="dropmenu" class="btn btn-primary dropdown-toggle" onchange="filterdata()" ;></select>

    </div>

</div>

<!--SELECT SUPPORT-->
<script>
    $('select.drop').on({
        "click": function () {
            event.stopPropagation();
        },
    });
</script>


<!--COLORBAR-->
<div id="color_legend">
    <div id="large" style="display: block;">
        <ul id="legend">
            <li class="c0-3">
                <div>0-133</div>
            </li>
            <li class="c4-9">
                <div>134-266</div>
            </li>
            <li class="c10-16">
                <div>267-400</div>
            </li>
            <li class="c17-23">
                <div>401-533</div>
            </li>
            <li class="c24-29">
                <div>534-666</div>
            </li>
            <li class="c30-36">
                <div>667-800</div>
            </li>
            <li class="c37-43">
                <div>801-933</div>
            </li>
            <li class="c44-50">
                <div>934-1066</div>
            </li>
            <li class="c51-57">
                <div>1067-1200</div>
            </li>
            <li class="c58-64">
                <div>1201-1333</div>
            </li>
            <li class="c65-71">
                <div>1334-1466</div>
            </li>
            <li class="c72-78">
                <div>1466-1600</div>
            </li>
            <li class="c79">
                <div>>1600</div>
            </li>
        </ul>
    </div>

    <div id="small" style="display: none;">
        <ul id="legend">
            <li class="c0-3">
                <div>0-3</div>
            </li>
            <li class="c4-9">
                <div>4-9</div>
            </li>
            <li class="c10-16">
                <div>10-16</div>
            </li>
            <li class="c17-23">
                <div>17-23</div>
            </li>
            <li class="c24-29">
                <div>24-29</div>
            </li>
            <li class="c30-36">
                <div>30-36</div>
            </li>
            <li class="c37-43">
                <div>37-43</div>
            </li>
            <li class="c44-50">
                <div>44-50</div>
            </li>
            <li class="c51-57">
                <div>51-57</div>
            </li>
            <li class="c58-64">
                <div>58-64</div>
            </li>
            <li class="c65-71">
                <div>65-71</div>
            </li>
            <li class="c72-78">
                <div>72-78</div>
            </li>
            <li class="c79">
                <div>>79</div>
            </li>
        </ul>
    </div>
</div>

<div id="over_map">
    <button id="openNav" class="w3-button w3-teal w3-xlarge w3-theme" onclick="w3_open()">&#9776;</button>
</div>


<!--DISPLAY-->
<script>
    function w3_open() {
        document.getElementById("main").style.marginLeft = "50%";
        document.getElementById("main").style.width = "50%";
        document.getElementById("chart").style.marginLeft = "50%";
        document.getElementById("chart").style.width = "50%";
        document.getElementById("over_map_in").style.marginLeft = "50%";
        document.getElementById("over_map_in").style.width = "50%";
        document.getElementById("mySidebar").style.width = "50%";
        document.getElementById("mySidebar").style.display = "block";
        document.getElementById("openNav").style.display = 'none';
    }

    function w3_close() {
        document.getElementById("main").style.marginLeft = "0%";
        document.getElementById("main").style.width = "100%";
        document.getElementById("chart").style.marginLeft = "0%";
        document.getElementById("chart").style.width = "100%";
        document.getElementById("over_map_in").style.marginLeft = "3.5%";
        document.getElementById("over_map_in").style.width = "90%";
        document.getElementById("mySidebar").style.display = "none";
        document.getElementById("openNav").style.display = "inline-block";
    }

    function openchart() {
        SPLOM();
    }

    function rankdisplay() {
        ranking_start();
        document.getElementById("rank").style.display = "block";
    }
</script>
</body>

</html>